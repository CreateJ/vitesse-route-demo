# 常用点

## 1.公司npm地址

官方源

```cmd
npm config set registry https://registry.npmjs.org
```

淘宝源

```
npm config set registry https://registry.npm.taobao.org
```

广州分公司npm

```
npm config set registry http://af.hikvision.com.cn/artifactory/api/npm/npm-down/
```

蜂眼npm地址

```
npm config set registry http://af.hikvision.com.cn/artifactory/api/npm/npm-pbg/
```

跳过https认证过程

```cmd
npm set strict-ssl false
```

2.

# 公司流程

## 1.打开邮箱看任务

## 2.打开项目管理[IRDMS](http://irdms.hikvision.com.cn/)

IRDMS-项目管理

## 3.查看SVN地址[HIDO](http://hido.hikvision.com.cn/#/home)

hido-集成开发-右上角三个点-查看代码地址

记得找同个项目名

## 4.申请SVN权限[IRDMS](http://irdms.hikvision.com.cn/)

IRDMS-申请SVN权限

除了广东业务中心，其他都是跨组开发

申请时间为在职期间



## 5.前端项目配置防csrf攻击安全校验

### 1.生产环境

将autoToken.js放入项目/src/scripts中

在vue.config.js中导入

```js
  // 引入封装好的js文件
  const TokenPlugin = require('./src/scripts/autoToken')
  // 然后在这里使用
  chainWebpack: (config) => {
    if (isProd) {
      // 打包的css如有必要加上@charset
      config.plugin('optimize-css').tap(args => {
        try {
          args[0].cssnanoOptions.preset[1].normalizeCharset = true
          return args
        } catch (_) {
          return args
        }
      })
      config.plugin('autoToken').use(TokenPlugin) // 关键代码
    }
  },
```

在httpInstance.js中加入以下代码

```js
// 查阅资料，这一行的作用是让所有的请求变成异步请求，不会相互影响
// 如果是同步请求，会有链式等待的过程
const headers = {
  'X-Requested-With': 'XMLHttpRequest'
}

// 这一行的主要作用是从html的head中获取token信息，放入请求头中
if (process.env.NODE_ENV === 'production') {
  headers['X-CSRF-TOKEN'] = document.getElementsByTagName('meta')._csrf.content
}

http.interceptors.request.use(function (config) {
  // 下面if是我加进去的内容，这一行是因为我开发的时候，请求的url没有吧组件标识带上，所以需要这么加，以后尽量根据规范来。
  if (process.env.NODE_ENV === 'production') {
    config.url = '/ctm01cffa/' + config.url
  }
  return trimOnlySpace(config)
}, function (error) {
  // 对请求错误做些什么
  return Promise.reject(error)
})
```

### 2.开发环境

csrf为跨站域请求伪造，危险网站在网站中嵌入类似于

```
<img src=http://wooyun.org/csrf?xx=11 /> 
```

这样，就模拟了用户向被攻击网站发送请求，同时这个请求会自动携带网站的cookies，这样就带着用户的权限过去了，以窃取用户利益的目的。

当我们部署上去，发现请求不同，同时需要使用服务器接口环境进行调试的时候，可以通过自己添加csrf-token来验证我们的身份，不过token经常变化，所以如果连不上记得检查

同时还需要携带相关cookie信息才能够通过验证

具体信息就不能乱写了，哈哈哈！

# 前端项目搭建

1.搭建dophin脚手架

# 提测前自测需要注意的内容

## 1.输入校验问题

包括去空格，默认值，长度校验，提示语，特殊字符

搜索条件一般只要求去空格

表单输入则需要长度校验，设置默认值等操作

表单提交需要保证校验正确的时候，按钮才可以点击

## 2.分页表格缺陷需要自己兼容

1.重置需要将页码和步长都重置回初始值

2.改步长的时候将页码归1

## 3.日期选择器问题

未来时间不可选，默认当天00:00:00-23.59.59，起始日期不可大于

## 4.必要的判空问题

容器内容为空时，渲染空图层

## 5.布局问题

尝试测试一下不同分辨率下的表现，注意底部，各个按钮，标题的显示问题







# 999.可能有用的点

配置新项目的上下文表示使用项目标识

proxy代理使用 **根/** 即可





C:\Users\王驰捷

C:\Users\王驰捷\AppData\Local
